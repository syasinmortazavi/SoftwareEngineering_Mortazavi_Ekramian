<div *ngIf="loader==true" class=" position-absolute loader pr-1 ">
  <img src="https://flevix.com/wp-content/uploads/2019/07/Comp-2.gif" alt="">
</div>
<div class=" shadow-lg p-4 mt-2 rounded">
<h3 class=" border-bottom border-dark text-center p-2">ایجاد پست تبلیغاتی</h3>
<form class="form col-12 mt-3" #createAdPost="ngForm">
<div class="d-flex flex-column">
<h3 >اضافه کردن تصویر</h3>
<div *ngIf="message!=null && message.status==true" class=" alert alert-success col-12 d-flex flex-row align-items-center justify-content-between pr-1 pl-1">
  <div>{{message.msg}}</div> 
   <div class="btn btn-sm btn-outline-dark" (click)="message=null">بستن</div>
</div>
<div *ngIf="message!=null && message.status==false" class=" alert alert-danger col-12 d-flex flex-row align-items-center justify-content-between pr-1 pl-1">
   <div>{{message.msg}}</div> 
   <div class="btn btn-sm btn-outline-dark" (click)="message=null">بستن</div>
</div>
<input (change)="fileChangeEvent($event)" name="image"  type="file"  />
</div>
<div class="form-group p-0 col-12 d-flex flex-column mt-4 ">
    <h3>اضافه کردن توضیح</h3>

    <textarea class="form-control" id="caption" rows="3"
    name="caption"
    [(ngModel)]="adPost.caption"
    required
    #caption="ngModel"
    maxlength="255">
  </textarea>
  <span class="border-top p-2 text-white col-12 bg-danger " *ngIf="caption.touched && !caption.valid && !caption.errors.maxlength">لطفا متنی را برای توضیح بنویسید</span>
  <span class="border-top p-2 text-white col-12 bg-danger " *ngIf="caption.touched && !caption.valid && caption.errors.maxlength">متن طولانی است</span>
  </div>

  <button class="btn btn-success col-12" (click)="sendAdPost()" [disabled]="!createAdPost.valid || selectedFile==null">ارسال</button>
  <div class="progress" *ngIf="progress>0 && progress<100">
    <div class="progress-bar" role="progressbar" style="width: {{progress}}%;" aria-valuenow="{{progress}}" aria-valuemin="0" aria-valuemax="100">{{progress}}%</div>
  </div>
</form>
</div>